{
  "$schema": "../../config/workflow-schema.json#/definitions/templateConfig",
  "name": "numeric-range",
  "description": "Numeric range filter - matches when a numeric property is within a specified range (min <= value <= max)",
  "category": "numeric",
  "parameters": {
    "propertyId": {
      "type": "string",
      "required": true,
      "description": "The numeric property to filter on",
      "placeholder": "price"
    },
    "min": {
      "type": "number",
      "required": false,
      "description": "Minimum value (inclusive). Omit for no lower bound.",
      "placeholder": 0
    },
    "max": {
      "type": "number",
      "required": false,
      "description": "Maximum value (inclusive). Omit for no upper bound.",
      "placeholder": 100
    }
  },
  "example": {
    "propertyId": "price",
    "min": 10,
    "max": 100
  },
  "templateLogic": {
    "namedStrategies": {},
    "strategyComponents": null,
    "grammarVersion": "V1",
    "strategy": {
      "filterNode": {
        "nodeInput": {
          "source": { "objectTypeId": "{{objectTypeId}}", "type": "objectTypeId" },
          "type": "source"
        },
        "filter": {
          "andFilterRule": {
            "filters": [
              {
                "columnFilterRule": {
                  "column": {
                    "objectProperty": {
                      "objectTypeId": "{{objectTypeId}}",
                      "propertyTypeId": "{{propertyId}}"
                    },
                    "type": "objectProperty"
                  },
                  "filter": {
                    "numericColumnFilter": {
                      "type": "GREATER_THAN_OR_EQUAL",
                      "values": ["{{min}}"],
                      "macro": {
                        "function": "VALUE",
                        "inputType": "ALL_TYPES",
                        "outputType": "ALL_TYPES"
                      }
                    },
                    "type": "numericColumnFilter"
                  }
                },
                "type": "columnFilterRule"
              },
              {
                "columnFilterRule": {
                  "column": {
                    "objectProperty": {
                      "objectTypeId": "{{objectTypeId}}",
                      "propertyTypeId": "{{propertyId}}"
                    },
                    "type": "objectProperty"
                  },
                  "filter": {
                    "numericColumnFilter": {
                      "type": "LESS_THAN_OR_EQUAL",
                      "values": ["{{max}}"],
                      "macro": {
                        "function": "VALUE",
                        "inputType": "ALL_TYPES",
                        "outputType": "ALL_TYPES"
                      }
                    },
                    "type": "numericColumnFilter"
                  }
                },
                "type": "columnFilterRule"
              }
            ]
          },
          "type": "andFilterRule"
        },
        "joinFilterInputs": {}
      },
      "type": "filterNode"
    },
    "workflowRid": "{{workflowRid}}",
    "effect": {
      "v2": {
        "outputAndVersion": {
          "outputId": "{{outputId}}",
          "outputVersion": "{{outputVersion:0.1.0}}",
          "workflowRid": "{{workflowRid}}"
        },
        "parameterValues": {}
      },
      "type": "v2"
    }
  },
  "_note": "If only min or max is provided, the template engine will generate a single filter instead of an AND filter."
}
