{
  "$schema": "./workflow-schema.json",
  "version": "1.0.0",
  "workflow": {
    "name": "Demo Product Workflow",
    "workflowRid": "ri.taurus.main.workflow.13ec15c0-2ddc-4a5b-88d4-8f32b545194a",
    "objectType": {
      "id": "hvznujj5.demo-product",
      "dynamicLookup": false,
      "properties": [
        { "id": "product_id", "type": "string", "description": "Unique product identifier" },
        { "id": "product_name", "type": "string", "description": "Product display name" },
        { "id": "category", "type": "string", "description": "Product category" },
        { "id": "price", "type": "number", "description": "Product price" },
        { "id": "risk_level", "type": "string", "description": "Risk assessment level" },
        { "id": "in_stock", "type": "boolean", "description": "Stock availability" }
      ]
    },
    "output": {
      "id": "203eb1b4-67fe-411b-9f35-73218d0662d6",
      "version": "0.1.0",
      "parameters": [
        { "id": "status", "type": "string", "defaultValue": "not approved" }
      ]
    }
  },
  "foundry": {
    "url": "https://ujjal-test.usw-23.palantirfoundry.com",
    "ontologyRid": "ri.ontology.main.ontology.a0e4fce1-dea7-4947-84bd-9f67d37a508e",
    "tokenEnvVar": "FOUNDRY_TOKEN"
  },
  "sdk": {
    "packageName": "@demo-product/sdk",
    "archetypes": {
      "proposal": "FoundryRulesProposalObjectArchetypeId1_7",
      "rule": "FoundryRulesRuleObjectArchetypeId1_7"
    },
    "actions": {
      "createProposal": "foundry-rules-create-add-proposal-1-1",
      "approveProposal": "foundry-rules-approve-add-proposal-1-1",
      "rejectProposal": "foundry-rules-reject-proposal-1-1",
      "editProposal": "foundry-rules-edit-proposal-1-1"
    }
  },
  "validation": {
    "grammarVersion": "V1",
    "supportedStrategyTypes": ["filterNode", "windowNode", "aggregationNode"],
    "supportedStringFilters": ["EQUALS", "CONTAINS", "MATCHES", "EQUALS_WITH_WILDCARDS"],
    "unsupportedStringFilters": ["REGEX", "STARTS_WITH", "ENDS_WITH"],
    "supportedNumericFilters": ["EQUALS", "GREATER_THAN", "LESS_THAN", "GREATER_THAN_OR_EQUAL", "LESS_THAN_OR_EQUAL"],
    "supportedNullFilters": ["NULL", "NOT_NULL"]
  },
  "conventions": {
    "proposalIdPrefix": "PROP-DEMO-",
    "ruleIdPrefix": "RULE-DEMO-",
    "defaultAuthor": "proposal-cli-v2",
    "defaultDescription": "Created via CLI",
    "defaultKeywords": "cli-created"
  },
  "templates": [
    { "name": "string-equals", "file": "../prompts/templates/string-equals.json", "description": "Simple string equality filter" },
    { "name": "string-or", "file": "../prompts/templates/string-or.json", "description": "OR filter with multiple values" },
    { "name": "numeric-range", "file": "../prompts/templates/numeric-range.json", "description": "Numeric range filter" }
  ]
}
