{
  "$schema": "./workflow-schema.json",
  "version": "1.0.0",
  "workflow": {
    "name": "Example Rules Workflow",
    "workflowRid": "ri.taurus.main.workflow.00000000-0000-0000-0000-000000000000",
    "objectType": {
      "id": "namespace.your-object-type",
      "dynamicLookup": false,
      "properties": [
        { "id": "id", "type": "string", "description": "Unique identifier" },
        { "id": "name", "type": "string", "description": "Display name" },
        { "id": "category", "type": "string", "description": "Category classification" },
        { "id": "amount", "type": "number", "description": "Numeric amount" },
        { "id": "status", "type": "string", "description": "Current status" },
        { "id": "is_active", "type": "boolean", "description": "Active flag" }
      ]
    },
    "output": {
      "id": "00000000-0000-0000-0000-000000000000",
      "version": "0.1.0",
      "parameters": [
        { "id": "approval_status", "type": "string", "defaultValue": "pending" },
        { "id": "priority", "type": "string", "defaultValue": "normal" }
      ]
    }
  },
  "foundry": {
    "url": "https://your-stack.palantirfoundry.com",
    "ontologyRid": "ri.ontology.main.ontology.00000000-0000-0000-0000-000000000000",
    "tokenEnvVar": "FOUNDRY_TOKEN"
  },
  "sdk": {
    "archetypes": {
      "proposal": "FoundryRulesProposalObjectArchetypeId1_7",
      "rule": "FoundryRulesRuleObjectArchetypeId1_7"
    },
    "actions": {
      "createProposal": "foundry-rules-create-add-proposal-1-1",
      "approveProposal": "foundry-rules-approve-add-proposal-1-1",
      "rejectProposal": "foundry-rules-reject-proposal-1-1",
      "editProposal": "foundry-rules-edit-proposal-1-1"
    }
  },
  "validation": {
    "grammarVersion": "V1",
    "supportedStrategyTypes": ["filterNode", "windowNode", "aggregationNode"],
    "supportedStringFilters": ["EQUALS", "CONTAINS", "MATCHES", "EQUALS_WITH_WILDCARDS"],
    "unsupportedStringFilters": ["REGEX", "STARTS_WITH", "ENDS_WITH"],
    "supportedNumericFilters": ["EQUALS", "GREATER_THAN", "LESS_THAN", "GREATER_THAN_OR_EQUAL", "LESS_THAN_OR_EQUAL"],
    "supportedNullFilters": ["NULL", "NOT_NULL"]
  },
  "conventions": {
    "proposalIdPrefix": "PROP-",
    "ruleIdPrefix": "RULE-",
    "defaultAuthor": "proposal-cli",
    "defaultDescription": "Created via CLI",
    "defaultKeywords": "cli-created"
  },
  "templates": [
    { "name": "string-equals", "file": "../prompts/templates/string-equals.json", "description": "Simple string equality filter" },
    { "name": "string-or", "file": "../prompts/templates/string-or.json", "description": "OR filter with multiple values" },
    { "name": "numeric-range", "file": "../prompts/templates/numeric-range.json", "description": "Numeric range filter" }
  ]
}
