{
  "$schema": "../config/rule-input-schema.json",
  "name": "FNMA-B72-High-Risk-Insurance-Band2",
  "description": "Flag high-risk insurance exceptions in Band 2 per Fannie Mae Selling Guide B7-2. Requires manual review.",
  "keywords": "fannie-mae,b7-2,insurance,high-risk,band-2,manual-review",
  "namedStrategies": {},
  "strategyComponents": null,
  "grammarVersion": "V1",
  "strategy": {
    "filterNode": {
      "nodeInput": {
        "source": { "objectTypeId": "hvznujj5.title-cure", "type": "objectTypeId" },
        "type": "source"
      },
      "filter": {
        "andFilterRule": {
          "filters": [
            {
              "columnFilterRule": {
                "column": {
                  "objectProperty": {
                    "objectTypeId": "hvznujj5.title-cure",
                    "propertyTypeId": "exceptionCategory"
                  },
                  "type": "objectProperty"
                },
                "filter": {
                  "stringColumnFilter": {
                    "type": "EQUALS",
                    "caseSensitive": false,
                    "ignoreWhitespace": false,
                    "values": ["insurance"],
                    "macro": { "function": "VALUE", "inputType": "ALL_TYPES", "outputType": "ALL_TYPES" }
                  },
                  "type": "stringColumnFilter"
                }
              },
              "type": "columnFilterRule"
            },
            {
              "columnFilterRule": {
                "column": {
                  "objectProperty": {
                    "objectTypeId": "hvznujj5.title-cure",
                    "propertyTypeId": "riskLevel"
                  },
                  "type": "objectProperty"
                },
                "filter": {
                  "stringColumnFilter": {
                    "type": "EQUALS",
                    "caseSensitive": false,
                    "ignoreWhitespace": false,
                    "values": ["high"],
                    "macro": { "function": "VALUE", "inputType": "ALL_TYPES", "outputType": "ALL_TYPES" }
                  },
                  "type": "stringColumnFilter"
                }
              },
              "type": "columnFilterRule"
            },
            {
              "columnFilterRule": {
                "column": {
                  "objectProperty": {
                    "objectTypeId": "hvznujj5.title-cure",
                    "propertyTypeId": "band"
                  },
                  "type": "objectProperty"
                },
                "filter": {
                  "numericColumnFilter": {
                    "type": "EQUALS",
                    "values": [2],
                    "macro": { "function": "VALUE", "inputType": "ALL_TYPES", "outputType": "ALL_TYPES" }
                  },
                  "type": "numericColumnFilter"
                }
              },
              "type": "columnFilterRule"
            }
          ]
        },
        "type": "andFilterRule"
      },
      "joinFilterInputs": {}
    },
    "type": "filterNode"
  },
  "workflowRid": "ri.taurus.main.workflow.f4c74a0a-583c-4499-aba3-1989b7f0a273",
  "effect": {
    "v2": {
      "outputAndVersion": {
        "outputId": "821a6877-c5bf-43c9-9bc4-bc967ef518b4",
        "outputVersion": "0.1.0",
        "workflowRid": "ri.taurus.main.workflow.f4c74a0a-583c-4499-aba3-1989b7f0a273"
      },
      "parameterValues": {}
    },
    "type": "v2"
  }
}
