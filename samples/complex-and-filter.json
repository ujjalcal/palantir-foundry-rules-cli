{
  "$schema": "../config/rule-input-schema.json",
  "name": "High-Value-Active-Items",
  "description": "Filter active items with high value using AND combination",
  "keywords": "complex,and,high-value,active",
  "namedStrategies": {},
  "strategyComponents": null,
  "grammarVersion": "V1",
  "strategy": {
    "filterNode": {
      "nodeInput": {
        "source": { "objectTypeId": "namespace.your-object-type", "type": "objectTypeId" },
        "type": "source"
      },
      "filter": {
        "andFilterRule": {
          "filters": [
            {
              "columnFilterRule": {
                "column": {
                  "objectProperty": {
                    "objectTypeId": "namespace.your-object-type",
                    "propertyTypeId": "category"
                  },
                  "type": "objectProperty"
                },
                "filter": {
                  "stringColumnFilter": {
                    "type": "EQUALS",
                    "caseSensitive": false,
                    "ignoreWhitespace": false,
                    "values": ["premium"],
                    "macro": { "function": "VALUE", "inputType": "ALL_TYPES", "outputType": "ALL_TYPES" }
                  },
                  "type": "stringColumnFilter"
                }
              },
              "type": "columnFilterRule"
            },
            {
              "columnFilterRule": {
                "column": {
                  "objectProperty": {
                    "objectTypeId": "namespace.your-object-type",
                    "propertyTypeId": "status"
                  },
                  "type": "objectProperty"
                },
                "filter": {
                  "stringColumnFilter": {
                    "type": "EQUALS",
                    "caseSensitive": false,
                    "ignoreWhitespace": false,
                    "values": ["active"],
                    "macro": { "function": "VALUE", "inputType": "ALL_TYPES", "outputType": "ALL_TYPES" }
                  },
                  "type": "stringColumnFilter"
                }
              },
              "type": "columnFilterRule"
            },
            {
              "columnFilterRule": {
                "column": {
                  "objectProperty": {
                    "objectTypeId": "namespace.your-object-type",
                    "propertyTypeId": "amount"
                  },
                  "type": "objectProperty"
                },
                "filter": {
                  "numericColumnFilter": {
                    "type": "GREATER_THAN_OR_EQUAL",
                    "values": [5000],
                    "macro": { "function": "VALUE", "inputType": "ALL_TYPES", "outputType": "ALL_TYPES" }
                  },
                  "type": "numericColumnFilter"
                }
              },
              "type": "columnFilterRule"
            }
          ]
        },
        "type": "andFilterRule"
      },
      "joinFilterInputs": {}
    },
    "type": "filterNode"
  },
  "workflowRid": "ri.taurus.main.workflow.00000000-0000-0000-0000-000000000000",
  "effect": {
    "v2": {
      "outputAndVersion": {
        "outputId": "00000000-0000-0000-0000-000000000000",
        "outputVersion": "0.1.0",
        "workflowRid": "ri.taurus.main.workflow.00000000-0000-0000-0000-000000000000"
      },
      "parameterValues": {}
    },
    "type": "v2"
  }
}
